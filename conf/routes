# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~


##
##   API
##
GET            /api/v1                                   controllers.Application.index

# ACCOUNT
POST           /api/v1/account                           controllers.AccountController.createAccount
GET            /api/v1/account/:loginName                controllers.AccountController.getAccount(loginName)
DELETE         /api/v1/account/:loginName                controllers.AccountController.deleteAccount(loginName)

# IDENTITIES
GET            /api/v1/identity/:id                      controllers.IdentityController.getIdentity(id)


# CONVERSATIONS
POST           /api/v1/conversation                      controllers.ConversationController.createConversation()
GET            /api/v1/conversation/:id                  controllers.ConversationController.getConversation(id,  offset: Int ?= 0, limit: Int ?= 0)
POST           /api/v1/conversation/:id/recipient        controllers.ConversationController.addRecipients(id)

# MESSAGES
POST           /api/v1/conversation/:id/message          controllers.MessageController.createMessage(id)
GET            /api/v1/message/:id                       controllers.MessageController.getMessage(id)


#GET            /api/v1/conversation/:conversationId/summary        controllers.ConversationController.getConversationSummary(conversationId: String, token: String)
#GET            /api/v1/conversations                               controllers.ConversationController.getConversations(token: String, offset: Int ?= 0, limit: Int ?= 0)

# TOKENS
GET            /api/v1/identity/:id/token                controllers.TokenController.createToken(id)
OPTIONS        /api/v1/identity/?/token                  controllers.TokenController.getTokenOptions
GET            /api/vi/:token                            controllers.TokenController.getToken(token)
DELETE         /api/v1/token/:token                      controllers.TokenController.deleteToken(token: String)

# CONTACTS
POST           /api/v1/contact                           controllers.ContactController.addContact
GET            /api/v1/contacts                          controllers.ContactController.getContacts(offset: Int ?= 0, limit: Int ?= 0)
GET            /api/v1/contact/:id                       controllers.ContactController.getContact(id: String)
GET            /api/v1/contact-groups                    controllers.ContactController.getGroups()
GET            /api/v1/contact-group/:id                 controllers.ContactController.getGroup(id: String,  offset: Int ?= 0, limit: Int ?= 0)

# ASSETS
POST           /api/v1/asset                             controllers.AssetController.uploadAsset(token: String, messageId: String)
GET            /api/v1/asset/:assetId                    controllers.AssetController.getAsset(token: String, assetId: String)
#GET            /api/v1/media                                       controllers.AssetController.getMedia(token: String)

# PURLS
#GET            /api/v1/purl/:purl                                  controllers.PurlController.getPurl(purl: String, offset: Int ?= 0, limit: Int ?= 0, token: String ?= "")

##
##   WebClient
##

# Redirect for Shorturls
GET            /c/:id                                    controllers.ShortUrlController.redirect(urlType = "c", id: String)
GET            /p/:id                                    controllers.ShortUrlController.redirect(urlType = "p", id: String)
GET            /s/:id                                    controllers.ShortUrlController.redirect(urlType = "s", id: String)

# WEBCLENT
GET            /app/                                     controllers.Assets.at(path="/public/app", file="index.html")
GET            /app                                      controllers.Assets.at(path="/public/app", file="index.html")
GET            /app/*file                                controllers.Assets.at(path="/public/app", file)


# Redirect everything else to /app
GET            /                                         controllers.Application.redirect(url = "/app/")